{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export default function fetchImages(searchQuery) {\n  const URL_NAME = 'https://pixabay.com/api/';\n  const KEY = '42469409-3f592d4c2a8b117d2f80b97d4';\n  const LINK = `${URL_NAME}?key=${KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(LINK).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function createCard(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n                </a>\n                <div class=\"gallery-sign\">\n                    <div>\n                        <h2 class=\"gallery-title\">Likes</h2>\n                        <p class=\"gallery-text\">${likes}</p>\n                    </div>\n                    <div>\n                        <h2 class=\"gallery-title\">Views</h2>\n                        <p class=\"gallery-text\">${views}</p>\n                    </div>\n                    <div>\n                        <h2 class=\"gallery-title\">Comments</h2>\n                        <p class=\"gallery-text\">${comments}</p>\n                    </div>\n                    <div>\n                        <h2 class=\"gallery-title\">Downloads</h2>\n                        <p class=\"gallery-text\">${downloads}</p>\n                    </div>\n                 </div>   \n                </li>`;\n      }\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchImages from './js/pixabay-api';\nimport createCard from './js/render-function';\n\nconst searchForm = document.querySelector('form');\n\nconst spinner = document.querySelector('span');\nconst galleryContainer = document.querySelector('.gallery');\nconst optionsLightBox = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nconst optionsIziToast = {\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  messageColor: '',\n  messageSize: '25',\n  backgroundColor: '#EF4040',\n  balloon: true,\n  theme: 'light',\n  close: true,\n  closeOnEscape: true,\n  closeOnClick: true,\n  overlay: true,\n  overlayClose: true,\n};\nconst lightBox = new SimpleLightbox('.gallery a', optionsLightBox);\n\nsearchForm.addEventListener('submit', onClickBtn);\n\nfunction onClickBtn(e) {\n  e.preventDefault();\n\n  const searchQuery = e.currentTarget.elements.query.value;\n\n  if (searchQuery) {\n    spinner.classList.add('loader');\n\n    fetchImages(searchQuery)\n      .then(data => {\n        if (data.total === 0) {\n          iziToast.error(optionsIziToast);\n        }\n\n        addCardMarkup(data.hits);\n      })\n      .catch(error => iziToast.error(optionsIziToast));\n  }\n  resetForm();\n}\n\nfunction addCardMarkup(images) {\n  galleryContainer.innerHTML = createCard(images);\n  spinner.classList.remove('loader');\n  lightBox.refresh();\n}\n\nfunction resetForm() {\n  searchForm.reset();\n}\n"],"names":["fetchImages","searchQuery","LINK","response","createCard","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","spinner","galleryContainer","optionsLightBox","optionsIziToast","lightBox","SimpleLightbox","onClickBtn","e","data","iziToast","addCardMarkup","error","resetForm"],"mappings":"wvBAAe,SAASA,EAAYC,EAAa,CAG/C,MAAMC,EAAO,qEAA4BD,CAAW,2DAEpD,OAAO,MAAMC,CAAI,EAAE,KAAKC,GAAY,CAClC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCXe,SAASC,EAAWC,EAAQ,CACzC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,gDACiCL,CAAa;AAAA,sDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kDAK9BC,CAAK;AAAA;AAAA;AAAA;AAAA,kDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kDAIRC,CAAS;AAAA;AAAA;AAAA,sBAKtD,EACA,KAAK,EAAE,CACZ,CC/BA,MAAMC,EAAa,SAAS,cAAc,MAAM,EAE1CC,EAAU,SAAS,cAAc,MAAM,EACvCC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAkB,CACtB,aAAc,MACd,aAAc,GAChB,EACMC,EAAkB,CACtB,QACE,2EACF,aAAc,GACd,YAAa,KACb,gBAAiB,UACjB,QAAS,GACT,MAAO,QACP,MAAO,GACP,cAAe,GACf,aAAc,GACd,QAAS,GACT,aAAc,EAChB,EACMC,EAAW,IAAIC,EAAe,aAAcH,CAAe,EAEjEH,EAAW,iBAAiB,SAAUO,CAAU,EAEhD,SAASA,EAAWC,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMpB,EAAcoB,EAAE,cAAc,SAAS,MAAM,MAE/CpB,IACFa,EAAQ,UAAU,IAAI,QAAQ,EAE9Bd,EAAYC,CAAW,EACpB,KAAKqB,GAAQ,CACRA,EAAK,QAAU,GACjBC,EAAS,MAAMN,CAAe,EAGhCO,EAAcF,EAAK,IAAI,CAC/B,CAAO,EACA,MAAMG,GAASF,EAAS,MAAMN,CAAe,CAAC,GAEnDS,GACF,CAEA,SAASF,EAAcnB,EAAQ,CAC7BU,EAAiB,UAAYX,EAAWC,CAAM,EAC9CS,EAAQ,UAAU,OAAO,QAAQ,EACjCI,EAAS,QAAO,CAClB,CAEA,SAASQ,GAAY,CACnBb,EAAW,MAAK,CAClB"}